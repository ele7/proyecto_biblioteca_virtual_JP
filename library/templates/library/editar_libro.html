{% extends 'library/base.html' %}
<!--  -->
{% block title %}Editar Libro{% endblock %}
<!--  -->
{% block content %}
<div class="container mt-4">
  <h1 class="mb-4">Editar Libro</h1>

  <!-- Mensajes -->
  {% if messages %} {% for message in messages %}
  <div
    class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %}"
    role="alert"
  >
    {{ message }}
  </div>
  {% endfor %} {% endif %}

  <form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="mb-3">
      <label for="id_titulo" class="form-label">Título</label>
      {{ form.titulo }}
    </div>
    <div class="mb-3">
      <label for="id_autor" class="form-label">Autor</label>
      {{ form.autor }}
    </div>
    <div class="mb-3">
      <label for="id_categoria" class="form-label">Categoría</label>
      {{ form.categoria }}
    </div>
    <div class="mb-3">
      <label for="id_año" class="form-label">Año</label>
      {{ form.año }}
    </div>
    <div class="mb-3">
      <label for="id_portada" class="form-label">Portada</label>
      {{ form.portada }}
    </div>
    <div class="mb-3">
      <label for="id_archivo" class="form-label">Archivo PDF</label>
      <input type="file" name="archivo" class="form-control" accept=".pdf" />
      {% if libro.archivo %}
      <small
        >Archivo actual:
        <a href="{{ libro.archivo.url }}" target="_blank"
          >{{ libro.archivo.name|slice:"7:" }}</a
        ></small
      >
      {% endif %}
    </div>
    <button type="submit" class="btn btn-primary">Guardar</button>
  </form>
</div>
{% endblock %}
