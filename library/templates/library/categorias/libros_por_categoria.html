{% extends "base.html" %} {% load static %}
<!---->
{% block title %}Libros de {{ categoria.nombre }}{% endblock %}
<!---->
{% block content %}
<div class="container mt-4">
  <!-- Encabezado -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div>
      <a href="{% url 'library:dashboard' %}" class="btn btn-outline-secondary">
        ← Volver al Dashboard
      </a>
    </div>
    <!-- Espacio para alineación -->
  </div>

  <!-- Grid de libros -->
  <div class="row">
    {% for libro in libros %}
    <div class="col-md-4 col-lg-3 mb-4">
      <a
        href="{% url 'library:detalle_libros' libro.id %}"
        class="text-decoration-none"
      >
        <div class="card h-100 shadow-sm libro-card">
          {% if libro.portada %}
          <img
            src="{{ libro.portada.url }}"
            class="card-img-top"
            alt="{{ libro.titulo }}"
          />
          {% else %}
          <img
            src="{% static 'images/default-book-cover.jpg' %}"
            class="card-img-top"
            alt="Portada no disponible"
          />
          {% endif %}
          <div class="card-body d-flex flex-column">
            <h5 class="card-title text-dark">{{ libro.titulo }}</h5>
            <p class="card-text text-muted"><small>{{ libro.autor }}</small></p>
            <p class="card-text">
              <small class="text-muted">{{ libro.año }}</small>
            </p>
            {% if libro.descripcion %}
            <p class="card-text flex-grow-1">
              <small class="text-muted"
                >{{ libro.descripcion|truncatewords:20 }}</small
              >
            </p>
            {% endif %}
          </div>
        </div>
      </a>
    </div>
    {% empty %}
    <div class="col-12">
      <div class="alert alert-info text-center">
        <h4>No hay libros en esta categoría</h4>
        <p class="mb-0">Próximamente se agregarán más libros.</p>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

<style>
  .libro-card {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  .libro-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1) !important;
  }
</style>
{% endblock %}
